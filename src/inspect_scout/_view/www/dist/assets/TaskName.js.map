{"version":3,"file":"TaskName.js","sources":["../../src/components/TabSet.tsx","../../src/app/components/TaskName.tsx"],"sourcesContent":["import clsx from \"clsx\";\nimport {\n  Children,\n  CSSProperties,\n  FC,\n  Fragment,\n  isValidElement,\n  MouseEvent,\n  ReactElement,\n  ReactNode,\n  RefObject,\n  useRef,\n} from \"react\";\n\nimport { useStatefulScrollPosition } from \"../state/scrolling\";\n\nimport moduleStyles from \"./TabSet.module.css\";\n\ninterface TabSetProps {\n  id: string;\n  tabsRef?: RefObject<HTMLUListElement | null>;\n  type?: \"tabs\" | \"pills\";\n  className?: string | string[];\n  tabPanelsClassName?: string | string[];\n  tabControlsClassName?: string | string[];\n  tools?: ReactNode;\n  children:\n    | ReactElement<TabPanelProps>\n    | (ReactElement<TabPanelProps> | null | undefined)[];\n}\n\ninterface TabPanelProps {\n  id: string;\n  index?: number;\n  selected?: boolean;\n  style?: CSSProperties;\n  scrollable?: boolean;\n  scrollRef?: RefObject<HTMLDivElement | null>;\n\n  className?: string | string[];\n  children?: ReactNode;\n  title: string;\n  icon?: string;\n  onSelected: (e: MouseEvent<HTMLElement>) => void;\n}\n\nexport const TabSet: FC<TabSetProps> = ({\n  id,\n  type = \"tabs\",\n  className,\n  tabPanelsClassName,\n  tabControlsClassName,\n  tools,\n  tabsRef,\n  children,\n}) => {\n  const validTabs = flattenChildren(children);\n  if (validTabs.length === 0) return null;\n\n  return (\n    <Fragment>\n      <ul\n        ref={tabsRef}\n        id={id}\n        className={clsx(\n          \"nav\",\n          `nav-${type}`,\n          type === \"tabs\" ? moduleStyles.tabStyle : undefined,\n          className,\n          moduleStyles.tabs\n        )}\n        role=\"tablist\"\n        aria-orientation=\"horizontal\"\n      >\n        {validTabs.map((tab, index) => (\n          <Tab\n            key={tab.props.id}\n            index={index}\n            type={type}\n            tab={tab}\n            className={clsx(tabControlsClassName)}\n          />\n        ))}\n        {tools && <TabTools tools={tools} />}\n      </ul>\n      <TabPanels id={id} tabs={validTabs} className={tabPanelsClassName} />\n    </Fragment>\n  );\n};\n\n// Individual Tab Component\nconst Tab: FC<{\n  type?: \"tabs\" | \"pills\";\n  tab: ReactElement<TabPanelProps>;\n  index: number;\n  className?: string | string[];\n}> = ({ type = \"tabs\", tab, index, className }) => {\n  const tabId = tab.props.id || computeTabId(\"tabset\", index);\n  const tabContentsId = computeTabContentsId(tab.props.id);\n  const isActive = tab.props.selected;\n\n  return (\n    <li role=\"presentation\" className={clsx(\"nav-item\", moduleStyles.tabItem)}>\n      <button\n        id={tabId}\n        className={clsx(\n          \"nav-link\",\n          className,\n          isActive && \"active\",\n          type === \"pills\" ? moduleStyles.pill : moduleStyles.tab,\n          \"text-size-small\",\n          \"text-style-label\"\n        )}\n        type=\"button\"\n        role=\"tab\"\n        aria-controls={tabContentsId}\n        aria-selected={isActive}\n        onClick={tab.props.onSelected}\n      >\n        {tab.props.icon && (\n          <i className={clsx(tab.props.icon, moduleStyles.tabIcon)} />\n        )}\n        {tab.props.title}\n      </button>\n    </li>\n  );\n};\n\n// Tab Panels Container\nconst TabPanels: FC<{\n  id: string;\n  tabs: ReactElement<TabPanelProps>[];\n  className?: string | string[];\n}> = ({ id, tabs, className }) => (\n  <div className={clsx(\"tab-content\", className)} id={`${id}-content`}>\n    {tabs.map((tab, index) => (\n      <TabPanel key={tab.props.id} {...tab.props} index={index} />\n    ))}\n  </div>\n);\n\n// Individual Tab Panel\nexport const TabPanel: FC<TabPanelProps> = ({\n  id,\n  selected,\n  style,\n  scrollable = true,\n  scrollRef,\n  className,\n  children,\n}) => {\n  const tabContentsId = computeTabContentsId(id);\n  const panelRef = useRef<HTMLDivElement>(null);\n  const tabContentsRef = scrollRef || panelRef;\n\n  // Attach a scroll listener to this ref to track scrolling\n  useStatefulScrollPosition(tabContentsRef, tabContentsId, 1000, scrollable);\n\n  return (\n    <div\n      id={tabContentsId}\n      ref={tabContentsRef}\n      className={clsx(\n        \"tab-pane\",\n        selected && \"show active\",\n        className,\n        moduleStyles.tabContents,\n        scrollable && moduleStyles.scrollable\n      )}\n      style={style}\n    >\n      {selected ? children : null}\n    </div>\n  );\n};\n\n// Tab Tools Component\nconst TabTools: FC<{ tools?: ReactNode }> = ({ tools }) => (\n  <div className={clsx(\"tab-tools\", moduleStyles.tabTools)}>{tools}</div>\n);\n\n// Utility functions\nconst computeTabId = (id: string, index: number) => `${id}-${index}`;\nconst computeTabContentsId = (id: string) => `${id}-contents`;\n\nconst flattenChildren = (\n  children: ReactNode\n): ReactElement<TabPanelProps>[] => {\n  return Children.toArray(children).flatMap((child) => {\n    if (isValidElement(child)) {\n      const element = child as ReactElement<TabPanelProps>;\n\n      if (element.type === Fragment) {\n        return flattenChildren(element.props.children);\n      }\n      return element;\n    }\n    return [];\n  });\n};\n","import clsx from \"clsx\";\nimport { FC, ReactNode } from \"react\";\n\ninterface TaskNameProps {\n  taskSet?: string | null;\n  taskId?: string | number | null;\n  taskRepeat?: number | null;\n}\n\nexport const TaskName: FC<TaskNameProps> = ({\n  taskSet,\n  taskId,\n  taskRepeat,\n}) => {\n  if (!taskSet && !taskId && taskRepeat === undefined) {\n    return \"<unknown>\";\n  }\n\n  const results: ReactNode[] = [];\n\n  if (taskSet) {\n    results.push(<span key={\"task-column-task-set\"}>{taskSet}</span>);\n  }\n\n  if (taskId !== undefined && taskId !== null) {\n    results.push(\"/\", <span key={\"task-column-task-id\"}>{taskId}</span>);\n  }\n\n  if (taskRepeat !== undefined && taskRepeat !== null) {\n    results.push(\n      \" \",\n      <span\n        key={\"task-column-task-repeat\"}\n        className={clsx(\"text-style-secondary\", \"text-size-smallest\")}\n      >{`(${taskRepeat})`}</span>\n    );\n  }\n\n  return results;\n};\n"],"names":["Fragment","jsxs","tab","jsx","tabs","scrollable","useRef","Children","isValidElement"],"mappings":"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"}