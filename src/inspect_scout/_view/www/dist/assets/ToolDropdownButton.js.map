{"version":3,"file":"ToolDropdownButton.js","sources":["../../src/components/ToolDropdownButton.tsx"],"sourcesContent":["import clsx from \"clsx\";\nimport { ButtonHTMLAttributes, forwardRef, ReactNode, useState } from \"react\";\n\nimport styles from \"./ToolDropdownButton.module.css\";\n\ninterface ToolDropdownButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  label: string | ReactNode;\n  icon?: string;\n  items: Record<string, () => void>;\n  dropdownAlign?: \"left\" | \"right\";\n  dropdownClassName?: string | string[];\n  subtle?: boolean;\n}\n\nexport const ToolDropdownButton = forwardRef<\n  HTMLButtonElement,\n  ToolDropdownButtonProps\n>(\n  (\n    {\n      label,\n      icon,\n      className,\n      items,\n      dropdownAlign = \"left\",\n      dropdownClassName,\n      subtle,\n      ...rest\n    },\n    ref\n  ) => {\n    const [isOpen, setIsOpen] = useState(false);\n\n    const handleItemClick = (fn: () => void) => {\n      fn();\n      setIsOpen(false);\n    };\n\n    return (\n      <div className={clsx(styles.dropdownContainer)}>\n        <button\n          ref={ref}\n          type=\"button\"\n          className={clsx(\n            \"btn\",\n            \"btn-tools\",\n            styles.toolButton,\n            subtle ? styles.bodyColor : undefined,\n            className\n          )}\n          onClick={() => setIsOpen(!isOpen)}\n          {...rest}\n        >\n          {icon && <i className={`${icon}`} />}\n          {label}\n          <i className={clsx(\"bi-chevron-down\", styles.chevron)} />\n        </button>\n        {isOpen && (\n          <>\n            <div className={styles.backdrop} onClick={() => setIsOpen(false)} />\n            <div\n              className={clsx(\n                styles.dropdownMenu,\n                dropdownAlign === \"right\" ? styles.alignRight : undefined,\n                dropdownClassName\n              )}\n            >\n              {Object.entries(items).map(([itemLabel, fn]) => (\n                <button\n                  key={itemLabel}\n                  type=\"button\"\n                  className={styles.dropdownItem}\n                  onClick={() => handleItemClick(fn)}\n                >\n                  {itemLabel}\n                </button>\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n    );\n  }\n);\n\nToolDropdownButton.displayName = \"ToolDropdownButton\";\n"],"names":["forwardRef","useState","jsxs","jsx","Fragment"],"mappings":";;;;;;;;;;;;;;;;;;;AAcO,MAAM,qBAAqBA,aAAAA;AAAAA,EAIhC,CACE;AAAA,IACE;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,gBAAgB;AAAA,IAChB;AAAA,IACA;AAAA,IACA,GAAG;AAAA,EAAA,GAEL,QACG;AACH,UAAM,CAAC,QAAQ,SAAS,IAAIC,aAAAA,SAAS,KAAK;AAE1C,UAAM,kBAAkB,CAAC,OAAmB;AAC1C,SAAA;AACA,gBAAU,KAAK;AAAA,IACjB;AAEA,kDACG,OAAA,EAAI,WAAW,KAAK,OAAO,iBAAiB,GAC3C,UAAA;AAAA,MAAAC,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA,MAAK;AAAA,UACL,WAAW;AAAA,YACT;AAAA,YACA;AAAA,YACA,OAAO;AAAA,YACP,SAAS,OAAO,YAAY;AAAA,YAC5B;AAAA,UAAA;AAAA,UAEF,SAAS,MAAM,UAAU,CAAC,MAAM;AAAA,UAC/B,GAAG;AAAA,UAEH,UAAA;AAAA,YAAA,QAAQC,kCAAAA,IAAC,KAAA,EAAE,WAAW,GAAG,IAAI,IAAI;AAAA,YACjC;AAAA,kDACA,KAAA,EAAE,WAAW,KAAK,mBAAmB,OAAO,OAAO,EAAA,CAAG;AAAA,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,MAExD,UACCD,kCAAAA,KAAAE,4BAAA,EACE,UAAA;AAAA,QAAAD,sCAAC,OAAA,EAAI,WAAW,OAAO,UAAU,SAAS,MAAM,UAAU,KAAK,GAAG;AAAA,QAClEA,kCAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW;AAAA,cACT,OAAO;AAAA,cACP,kBAAkB,UAAU,OAAO,aAAa;AAAA,cAChD;AAAA,YAAA;AAAA,YAGD,UAAA,OAAO,QAAQ,KAAK,EAAE,IAAI,CAAC,CAAC,WAAW,EAAE,MACxCA,kCAAAA;AAAAA,cAAC;AAAA,cAAA;AAAA,gBAEC,MAAK;AAAA,gBACL,WAAW,OAAO;AAAA,gBAClB,SAAS,MAAM,gBAAgB,EAAE;AAAA,gBAEhC,UAAA;AAAA,cAAA;AAAA,cALI;AAAA,YAAA,CAOR;AAAA,UAAA;AAAA,QAAA;AAAA,MACH,EAAA,CACF;AAAA,IAAA,GAEJ;AAAA,EAEJ;AACF;AAEA,mBAAmB,cAAc;"}