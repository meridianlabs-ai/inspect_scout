{"version":3,"file":"object.js","sources":["../../src/utils/object.ts"],"sourcesContent":["export const printObject = (val: object, size: number = 50): string => {\n  const envelope = [\"{\", \"}\"];\n  const ellipsis = \"â€¦\";\n  const separator = \", \";\n  const kvSeparator = \": \";\n\n  let remainingSize =\n    size - (envelope[0]?.length || 0) - (envelope[1]?.length || 0);\n\n  const entries = Object.entries(val);\n  const headItems: string[] = [];\n  const tailItems: string[] = [];\n\n  let headIdx = 0;\n  let tailIdx = entries.length - 1;\n\n  while (headIdx <= tailIdx) {\n    const headPair = `${entries[headIdx]?.[0]}${kvSeparator}${JSON.stringify(entries[headIdx]?.[1])}`;\n    const tailPair = `${entries[tailIdx]?.[0]}${kvSeparator}${JSON.stringify(entries[tailIdx]?.[1])}`;\n\n    // If we're at the same entry (middle of odd-length object)\n    if (headIdx === tailIdx) {\n      if (headPair.length <= remainingSize) {\n        headItems.push(headPair);\n      } else {\n        headItems.push(ellipsis);\n      }\n      break;\n    }\n\n    // Try to fit both head and tail entries (with separator between them)\n    const bothSize = headPair.length + tailPair.length + separator.length;\n\n    if (bothSize <= remainingSize) {\n      headItems.push(headPair);\n      tailItems.unshift(tailPair);\n      remainingSize -= bothSize;\n      headIdx++;\n      tailIdx--;\n    } else if (\n      headPair.length + separator.length + ellipsis.length <=\n      remainingSize\n    ) {\n      // Can't fit both, but can fit head item plus ellipsis\n      headItems.push(headPair);\n      headItems.push(ellipsis);\n      break;\n    } else {\n      // Can't even fit head item\n      headItems.push(ellipsis);\n      break;\n    }\n  }\n\n  // If the first entry is too large, middle truncate it\n  if (headItems.length === 0 && entries.length > 0) {\n    const firstPair = `${entries[0]?.[0]}${kvSeparator}${JSON.stringify(entries[0]?.[1])}`;\n    const truncateSize = remainingSize - ellipsis.length - separator.length;\n    if (truncateSize > 0) {\n      headItems.push(firstPair.slice(0, truncateSize) + ellipsis);\n      headItems.push(ellipsis);\n    } else {\n      headItems.push(ellipsis);\n    }\n  }\n\n  const allItems = [...headItems, ...tailItems];\n  return envelope[0] + allItems.join(separator) + envelope[1];\n};\n"],"names":[],"mappings":"AAAO,MAAM,cAAc,CAAC,KAAa,OAAe,OAAe;AACrE,QAAM,WAAW,CAAC,KAAK,GAAG;AAC1B,QAAM,WAAW;AACjB,QAAM,YAAY;AAClB,QAAM,cAAc;AAEpB,MAAI,gBACF,QAAQ,SAAS,CAAC,GAAG,UAAU,MAAM,SAAS,CAAC,GAAG,UAAU;AAE9D,QAAM,UAAU,OAAO,QAAQ,GAAG;AAClC,QAAM,YAAsB,CAAA;AAC5B,QAAM,YAAsB,CAAA;AAE5B,MAAI,UAAU;AACd,MAAI,UAAU,QAAQ,SAAS;AAE/B,SAAO,WAAW,SAAS;AACzB,UAAM,WAAW,GAAG,QAAQ,OAAO,IAAI,CAAC,CAAC,GAAG,WAAW,GAAG,KAAK,UAAU,QAAQ,OAAO,IAAI,CAAC,CAAC,CAAC;AAC/F,UAAM,WAAW,GAAG,QAAQ,OAAO,IAAI,CAAC,CAAC,GAAG,WAAW,GAAG,KAAK,UAAU,QAAQ,OAAO,IAAI,CAAC,CAAC,CAAC;AAG/F,QAAI,YAAY,SAAS;AACvB,UAAI,SAAS,UAAU,eAAe;AACpC,kBAAU,KAAK,QAAQ;AAAA,MACzB,OAAO;AACL,kBAAU,KAAK,QAAQ;AAAA,MACzB;AACA;AAAA,IACF;AAGA,UAAM,WAAW,SAAS,SAAS,SAAS,SAAS,UAAU;AAE/D,QAAI,YAAY,eAAe;AAC7B,gBAAU,KAAK,QAAQ;AACvB,gBAAU,QAAQ,QAAQ;AAC1B,uBAAiB;AACjB;AACA;AAAA,IACF,WACE,SAAS,SAAS,UAAU,SAAS,SAAS,UAC9C,eACA;AAEA,gBAAU,KAAK,QAAQ;AACvB,gBAAU,KAAK,QAAQ;AACvB;AAAA,IACF,OAAO;AAEL,gBAAU,KAAK,QAAQ;AACvB;AAAA,IACF;AAAA,EACF;AAGA,MAAI,UAAU,WAAW,KAAK,QAAQ,SAAS,GAAG;AAChD,UAAM,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,WAAW,GAAG,KAAK,UAAU,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;AACpF,UAAM,eAAe,gBAAgB,SAAS,SAAS,UAAU;AACjE,QAAI,eAAe,GAAG;AACpB,gBAAU,KAAK,UAAU,MAAM,GAAG,YAAY,IAAI,QAAQ;AAC1D,gBAAU,KAAK,QAAQ;AAAA,IACzB,OAAO;AACL,gBAAU,KAAK,QAAQ;AAAA,IACzB;AAAA,EACF;AAEA,QAAM,WAAW,CAAC,GAAG,WAAW,GAAG,SAAS;AAC5C,SAAO,SAAS,CAAC,IAAI,SAAS,KAAK,SAAS,IAAI,SAAS,CAAC;AAC5D;"}